{"version":3,"sources":["tags.js"],"names":["tagsInput","document","querySelector","tagsDiv","tagsInputHidden","tags","showTags","textContent","forEach","tag","tagElement","createElement","classList","add","toUpperCase","substring","ondblclick","deleteTag","appendChild","updateInputHidden","value","toString","e","target","remove","filter","split","addEventListener","keyCode","preventDefault","exec","trim","includes","toLowerCase"],"mappings":"CAAA,WACA,MAAAA,EAAAC,SAAAC,cAAA,eACA,GAAAF,EAAA,CAEA,MAAAG,EAAAF,SAAAC,cAAA,SACAE,EAAAH,SAAAC,cAAA,iBAEA,IAAAG,EAAA,GA8BA,SAAAC,IACAH,EAAAI,YAAA,GACAF,EAAAG,QAAAC,IACA,MAAAC,EAAAT,SAAAU,cAAA,MACAD,EAAAE,UAAAC,IAAA,aACAH,EAAAH,YAAAE,EAAA,GAAAK,cAAAL,EAAAM,UAAA,GACAL,EAAAM,WAAAC,EACAd,EAAAe,YAAAR,KAEAS,IAGA,SAAAA,IACAf,EAAAgB,MAAAf,EAAAgB,WAGA,SAAAJ,EAAAK,GACAA,EAAAC,OAAAC,SACAnB,EAAAA,EAAAoB,OAAAhB,GAAAA,IAAAa,EAAAC,OAAAhB,aACAY,IA9CA,KAAAf,EAAAgB,QACAf,EAAAD,EAAAgB,MAAAM,MAAA,KACApB,KAIAN,EAAA2B,iBAAA,YAEA,SAAAL,GACA,GAAA,KAAAA,EAAAM,QAAA,CACAN,EAAAO,iBAEA,IADA,2CACAC,KAAAR,EAAAC,OAAAH,MAAAW,QAEA,YADA/B,EAAAoB,MAAA,IAGA,GAAAf,EAAA2B,SAAAV,EAAAC,OAAAH,MAAAa,eAEA,YADAjC,EAAAoB,MAAA,IAIAf,EAAA,IAAAA,EAAAiB,EAAAC,OAAAH,MAAAa,cAAAF,QACA/B,EAAAoB,MAAA,GACAd,SAjCA","file":"bundle.js","sourcesContent":["(function() {\r\n  const tagsInput = document.querySelector('#tags_input');\r\n  if(tagsInput) {\r\n\r\n    const tagsDiv = document.querySelector('#tags');\r\n    const tagsInputHidden = document.querySelector('[name=\"tags\"]');\r\n\r\n    let tags = [];\r\n\r\n    // Get tags from hidden input\r\n    if(tagsInputHidden.value !== '') {\r\n      tags = tagsInputHidden.value.split(',');\r\n      showTags();\r\n    }\r\n\r\n    // Listening to changes in the input\r\n    tagsInput.addEventListener('keypress', saveTag);\r\n\r\n    function saveTag(e) {\r\n      if(e.keyCode === 44) {\r\n        e.preventDefault();\r\n        const regexp = /^([A-Za-z0-9\\u002e\\u002b\\u0023]){2,15}$/i;\r\n        if(!regexp.exec(e.target.value.trim())) {\r\n          tagsInput.value = '';\r\n          return;\r\n        } \r\n        if (tags.includes(e.target.value.toLowerCase())) {\r\n          tagsInput.value = '';\r\n          return;\r\n        }\r\n        \r\n        tags = [...tags, e.target.value.toLowerCase().trim()];\r\n        tagsInput.value = '';\r\n        showTags();\r\n      }\r\n    }\r\n\r\n    function showTags() {\r\n      tagsDiv.textContent = '';\r\n      tags.forEach(tag => {\r\n        const tagElement = document.createElement('LI');\r\n        tagElement.classList.add('form__tag');\r\n        tagElement.textContent = tag[0].toUpperCase() + tag.substring(1);\r\n        tagElement.ondblclick = deleteTag;\r\n        tagsDiv.appendChild(tagElement);\r\n      })\r\n      updateInputHidden();\r\n    }\r\n\r\n    function updateInputHidden() {\r\n      tagsInputHidden.value = tags.toString();\r\n    }\r\n\r\n    function deleteTag(e) {\r\n      e.target.remove();\r\n      tags = tags.filter(tag => tag !== e.target.textContent);\r\n      updateInputHidden();\r\n    }\r\n  }\r\n})()\r\n"]}